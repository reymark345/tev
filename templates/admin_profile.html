{% extends 'index.html' %} {% block content %} {% load staticfiles %}
            <!-- Content -->
            <!-- <div class="container-fluid flex-grow-1 container-p-y"> -->
            <div class="container-fluid flex-grow-1 container-p-y">
              <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">User Profile /</span> Accomplishments</h4>

              <!-- Header -->
              <div class="row">
                <div class="col-12">
                  <div class="card mb-4">
                    <div class="user-profile-header-banner">
                      <img src="{% static 'assets/img/pages/profile-banner.png' %}" alt="Banner image" class="rounded-top" />
                    </div>
                    <div class="user-profile-header d-flex flex-column flex-sm-row text-sm-start text-center mb-4">
                      <div class="flex-shrink-0 mt-n2 mx-sm-0 mx-auto">
                        {% if image_path %}
                        <img
                          src="{{image_path}}"
                          alt="user image"
                          class="d-block h-auto ms-0 ms-sm-4 rounded user-profile-img"
                        />
                        {% else %}
                        <img
                        src="{% static 'assets/img/avatars/14.png' %}"
                          alt="user image"
                          class="d-block h-auto ms-0 ms-sm-4 rounded user-profile-img"
                        />
                        {% endif %}
                      </div>
                      <div class="flex-grow-1 mt-3 mt-sm-5">
                        <div
                          class="d-flex align-items-md-end align-items-sm-start align-items-center justify-content-md-between justify-content-start mx-4 flex-md-row flex-column gap-4"
                        >
                          <div class="user-profile-info">
                            <h4>{{ request.user.first_name }} {{ request.user.last_name }}</h4>
                            <ul
                              class="list-inline mb-0 d-flex align-items-center flex-wrap justify-content-sm-start justify-content-center gap-2"
                            >
                              <li class="list-inline-item"></i>{{position}}</li>
                            </ul>
                          </div>
                          <a href="javascript:void(0)" class="btn btn-success">
                            <i class="ti ti-user-check me-1"></i>Active
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--/ Header -->

              <!--/ Navbar pills -->

              <!-- Navbar pills -->
              <div class="row">
                <div class="col-md-12">
                  <ul class="nav nav-pills flex-column flex-sm-row mb-4">
                    <li class="nav-item">
                      <a class="nav-link active" href="{% url 'profile' %}"
                        ><i class="ti-xs ti ti-user-check me-1"></i> Profile</a
                      >
                    </li>
                   
                  </ul>
                </div>
              </div>
              <!--/ Navbar pills -->

              <!-- Alerts with Icons -->
              <div class="row">
                <div class="col-xl-4 col-lg-5 col-md-5">
                  <!-- About User -->
                  <div class="card mb-4">
                    <div class="card-body">
                      <small class="card-text text-uppercase">About</small>
                      <ul class="list-unstyled mb-4 mt-3">
                        <li class="d-flex align-items-center mb-3">
                          <i class="ti ti-user"></i><span class="fw-bold mx-2">Full Name:</span> <span>{{ request.user.first_name }} {{ request.user.last_name }}</span>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                          <i class="ti ti-file-description"></i><span class="fw-bold mx-2">Id Number:</span>
                          <span>{{id_number}}</span>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                          <i class="ti ti-crown"></i><span class="fw-bold mx-2">Position:</span> <span>{{position}}</span>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                          <i class="ti ti-user"></i><span class="fw-bold mx-2">Sex:</span> <span>{{sex}}</span>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                          <i class="ti ti-flag"></i><span class="fw-bold mx-2">Division:</span> <span>{{division_name}}</span>
                        </li>
                      </ul>
                      <small class="card-text text-uppercase">Contacts</small>
                      <ul class="list-unstyled mb-4 mt-3">
                        <li class="d-flex align-items-center mb-3">
                          <i class="ti ti-mail"></i><span class="fw-bold mx-2">Email:</span>
                          <span>{{ request.user.email }} </span>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              
                <div class="col-md">
                  <div class="card">
                    <h5 class="card-header">Accomplishments</h5>
                    
                    <div class="card-body">
                      <br>
                      <div class="alert alert-primary d-flex align-items-center" role="alert">
                        <span class="alert-icon text-primary me-2">
                          <i class="ti ti-info-circle ti-xs"></i>
                        </span>
                        Accomplishment report saving process has been significantly enhanced, ensuring faster and more efficient operations.
                      </div><br><br>
              
                      <div class="row">
                        <div class="col-5 col-md-5">
                          <label class="form-label" for="modalEditTaxID">Start Date</label>
                          <input type="date" class="form-control" name="FStartDate" id ="FStartDate" placeholder="DD-MM-YYYY" autocomplete="off" />
                        </div>
                        <div class="col-5 col-md-5">
                          <label class="form-label" for="modalEditTaxID">End Date</label>
                          <input type="date" class="form-control" name="FEndDate" id ="FEndDate" placeholder="DD-MM-YYYY" autocomplete="off" />
                        </div>
                        <div class="col-2 col-md-2">
                          <br>
                          <a href="javascript:void(0)" id="generate-accomplishment" class="btn btn-primary" style="width:140px;">
                            Generate
                          </a>
                        </div>
                      </div>
                      <br>
                      <br>
                      <br>
                    </div>
                  </div>
                </div>
              </div>
            
     

              <!-- Default Wizard -->
                <div class="col-12 mb-4">
                  <div class="bs-stepper wizard-numbered mt-2">
                    <div class="bs-stepper-header">
                      <div class="step" data-target="#account-details">
                        <button type="button" class="step-trigger">
                          <span class="bs-stepper-circle">1</span>
                          <span class="bs-stepper-label">
                            <span class="bs-stepper-title">Sonny Gocela</span>
                            <span class="bs-stepper-subtitle">Accomplishment</span>
                          </span>
                        </button>
                      </div>
                      <div class="line">
                        <i class="ti ti-chevron-right"></i>
                      </div>
                      <div class="step" data-target="#personal-info">
                        <button type="button" class="step-trigger">
                          <span class="bs-stepper-circle">2</span>
                          <span class="bs-stepper-label">
                            <span class="bs-stepper-title">Carl Jubert Tambong</span>
                            <span class="bs-stepper-subtitle">Accomplishment</span>
                          </span>
                        </button>
                      </div>
                      <div class="line">
                        <i class="ti ti-chevron-right"></i>
                      </div>
                      <div class="step" data-target="#social-links">
                        <button type="button" class="step-trigger">
                          <span class="bs-stepper-circle">3</span>
                          <span class="bs-stepper-label">
                            <span class="bs-stepper-title">Jhoannah Paula Ramos</span>
                            <span class="bs-stepper-subtitle">Accomplishment</span>
                          </span>
                        </button>
                      </div>
                      <div class="line">
                        <i class="ti ti-chevron-right"></i>
                      </div>
                      <div class="step" data-target="#bernard">
                        <button type="button" class="step-trigger">
                          <span class="bs-stepper-circle">4</span>
                          <span class="bs-stepper-label">
                            <span class="bs-stepper-title">Bernard Maglupay</span>
                            <span class="bs-stepper-subtitle">Accomplishment</span>
                          </span>
                        </button>
                      </div>
                    </div>
                    <div class="bs-stepper-content">
                      <form onSubmit="return false">
                        <!-- Account Details -->
                        <div id="account-details" class="content">
                          <div class="table-responsive text-nowrap">
                            <table class="table" id="accomplishment-tbl">
                              <caption class="ms-4">
                                List of Accomplishment
                              </caption>
                              <thead>
                                <tr>
                                  <th>Date</th>
                                  <th>Received</th>
                                  <th>Reviewed</th>
                                  <th>Payrolled</th>
                                </tr>
                              </thead>
                              <tbody>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <!-- Personal Info -->
                        <div id="personal-info" class="content">
                          <div class="content-header mb-3">
                            <h6 class="mb-0">Personal Info</h6>
                            <small>Enter Your Personal Info.</small>
                          </div>
                          <div class="row g-3">
                            <div class="col-sm-6">
                              <label class="form-label" for="first-name">First Name</label>
                              <input type="text" id="first-name" class="form-control" placeholder="John" />
                            </div>
                            <div class="col-sm-6">
                              <label class="form-label" for="last-name">Last Name</label>
                              <input type="text" id="last-name" class="form-control" placeholder="Doe" />
                            </div>
                            <div class="col-sm-6">
                              <label class="form-label" for="country">Country</label>
                              <select class="select2" id="country">
                                <option label=" "></option>
                                <option>UK</option>
                                <option>USA</option>
                                <option>Spain</option>
                                <option>France</option>
                                <option>Italy</option>
                                <option>Australia</option>
                              </select>
                            </div>
                            <div class="col-sm-6">
                              <label class="form-label" for="language">Language</label>
                              <select
                                class="selectpicker w-auto"
                                id="language"
                                data-style="btn-transparent"
                                data-icon-base="ti"
                                data-tick-icon="ti-check text-white"
                                multiple
                              >
                                <option>English</option>
                                <option>French</option>
                                <option>Spanish</option>
                              </select>
                            </div>
                            <div class="col-12 d-flex justify-content-between">
                              <button class="btn btn-label-secondary btn-prev">
                                <i class="ti ti-arrow-left me-sm-1 me-0"></i>
                                <span class="align-middle d-sm-inline-block d-none">Previous</span>
                              </button>
                              <button class="btn btn-primary btn-next">
                                <span class="align-middle d-sm-inline-block d-none me-sm-1">Next</span>
                                <i class="ti ti-arrow-right"></i>
                              </button>
                            </div>
                          </div>
                        </div>
                        <!-- Social Links -->
                        <div id="social-links" class="content">
                          <div class="content-header mb-3">
                            <h6 class="mb-0">Social Links</h6>
                            <small>Enter Your Social Links.</small>
                          </div>
                          <div class="row g-3">
                            <div class="col-sm-6">
                              <label class="form-label" for="twitter">Twitter</label>
                              <input
                                type="text"
                                id="twitter"
                                class="form-control"
                                placeholder="https://twitter.com/abc"
                              />
                            </div>
                            <div class="col-sm-6">
                              <label class="form-label" for="facebook">Facebook</label>
                              <input
                                type="text"
                                id="facebook"
                                class="form-control"
                                placeholder="https://facebook.com/abc"
                              />
                            </div>
                            <div class="col-sm-6">
                              <label class="form-label" for="google">Google+</label>
                              <input
                                type="text"
                                id="google"
                                class="form-control"
                                placeholder="https://plus.google.com/abc"
                              />
                            </div>
                            <div class="col-sm-6">
                              <label class="form-label" for="linkedin">LinkedIn</label>
                              <input
                                type="text"
                                id="linkedin"
                                class="form-control"
                                placeholder="https://linkedin.com/abc"
                              />
                            </div>
                            <div class="col-12 d-flex justify-content-between">
                              <button class="btn btn-label-secondary btn-prev">
                                <i class="ti ti-arrow-left me-sm-1 me-0"></i>
                                <span class="align-middle d-sm-inline-block d-none">Previous</span>
                              </button>
                              <button class="btn btn-success btn-submit">Submit</button>
                            </div>
                          </div>
                        </div>
                        <!-- Sonny Links -->
                        <div id="bernard" class="content">
                          <div class="content-header mb-3">
                            <h6 class="mb-0">Social Links</h6>
                            <small>Enter Your Social Links.</small>
                          </div>
                          <div class="row g-3">
                            <div class="col-sm-6">
                              <label class="form-label" for="twitter">Twitter</label>
                              <input
                                type="text"
                                id="twitter"
                                class="form-control"
                                placeholder="https://twitter.com/abc"
                              />
                            </div>
                            <div class="col-sm-6">
                              <label class="form-label" for="facebook">Facebook</label>
                              <input
                                type="text"
                                id="facebook"
                                class="form-control"
                                placeholder="https://facebook.com/abc"
                              />
                            </div>
                            <div class="col-sm-6">
                              <label class="form-label" for="google">Google+</label>
                              <input
                                type="text"
                                id="google"
                                class="form-control"
                                placeholder="https://plus.google.com/abc"
                              />
                            </div>
                            <div class="col-sm-6">
                              <label class="form-label" for="linkedin">LinkedIn</label>
                              <input
                                type="text"
                                id="linkedin"
                                class="form-control"
                                placeholder="https://linkedin.com/abc"
                              />
                            </div>
                            <div class="col-12 d-flex justify-content-between">
                              <button class="btn btn-label-secondary btn-prev">
                                <i class="ti ti-arrow-left me-sm-1 me-0"></i>
                                <span class="align-middle d-sm-inline-block d-none">Previous</span>
                              </button>
                              <button class="btn btn-success btn-submit">Submit</button>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
                <!-- /Default Wizard -->
              <br>
         
         

          
              
       

            </div>
            <!-- / Content -->

  {% endblock %}
  {% block footer_scripts %}
  <script>
    $(document).ready(function() {
      const FStartDate = jQuery(document.querySelector('[name="FStartDate"]')),
            FEndDate = jQuery(document.querySelector('[name="FEndDate"]'));
      const toast_options = (toastr.options = {
        maxOpened: 1,
        autoDismiss: true,
        closeButton: true,
        newestOnTop: true,
        progressBar: true,
        positionClass: 'toast-top-right',
        rtl: isRtl,
      });

      $('#generate-accomplishment').on('click', function() {
        $.ajax({
          type: 'POST',
          url: "{% url 'generate-accomplishment' %}",
          data:{
            start_date: FStartDate.val(),
            end_date: FEndDate.val(),
          }
        }).done(function (data) {
          var tbody = $('#accomplishment-tbl tbody');
          tbody.empty();

          $.each(data, function(index, item) {
            var row = $('<tr>').append(
                $('<td>').html('<span class="badge bg-label-primary">' + item.date + '</span>'),
                $('<td>').text(item.received),
                $('<td>').text(item.reviewed),
                $('<td>').text(item.payrolled)
            );
            tbody.append(row);
          });
          toastr.success('Generate Successfully', 'Success', toast_options);

      
        });
      });
    });
  </script>
  {% endblock footer_scripts %}